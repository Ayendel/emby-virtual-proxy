# Emby Virtual Proxy - 功能说明

本项目是一个功能强大的 **Emby 代理服务器**。它作为中间层部署在您的 Emby 客户端（如浏览器、手机APP）和真实的 Emby 服务器之间。通过智能地拦截和修改客户端与服务器之间的通信数据（API请求），本项目实现了许多 Emby 原生不支持的高级功能，极大地增强了您的媒体库管理和浏览体验。

---

## ✨ 核心功能

### 1. 虚拟媒体库 (Virtual Libraries)
- **动态创建**: 您可以创建任意数量的“虚拟媒体库”，这些库并不在 Emby 服务器上真实存在。
- **内容聚合**: 虚拟库的内容可以基于 Emby 中已有的元数据动态生成，支持的源类型包括：
    - **合集 (Collections)**
    - **标签 (Tags)**
    - **类型 (Genres)**
    - **工作室 (Studios)**
    - **演职人员 (Persons)**
- **应用场景**: 轻松创建如 “漫威电影宇宙”、“周星驰作品集”、“豆瓣Top250” 等完全自定义的媒体库，并让它们像真实库一样展示在主页上。

### 2. 高级内容过滤与聚合 (Advanced Filtering & Merging)
- **TMDB ID 合并**: 自动将在不同资料库中但拥有相同 `TheMovieDb.org ID` 的电影或剧集进行聚合。当您在“最近添加”或媒体库视图中浏览时，将只看到一个条目，有效解决版本重复（如 1080p 和 4K 版本）的问题。
- **高级过滤规则**: 提供了一个强大的规则引擎，允许您组合多个复杂的条件来过滤媒体内容，实现 Emby 原生无法做到的精确筛选。

### 3. 自定义封面生成 (Custom Cover Generation)
- **自动化海报**: 可为创建的虚拟媒体库一键生成风格化的海报封面。
- **智能素材抓取**: 该功能会自动从虚拟库中随机选取部分影视项目的现有封面作为素材。
- **高度自定义**: 将抓取的素材智能拼接成一张精美的海报，并允许您添加自定义的中英文标题。

### 4. 现代化Web管理后台 (Modern Web Admin UI)
- **一站式管理**: 项目内置一个基于 Vue.js 和 Element Plus 的美观、易用的网页管理界面。
- **功能全面**: 您可以在此UI上完成所有配置和管理工作，包括：
    - 系统设置（连接 Emby 服务器、API 密钥等）。
    - 创建、编辑、删除虚拟库和高级过滤规则。
    - 通过拖拽调整虚拟库和真实库在 Emby 主页的显示顺序。
    - 手动触发封面生成、清除代理缓存等维护操作。

### 5. 容器化与易于部署 (Docker Ready)
- **开箱即用**: 项目提供完整的 `Dockerfile` 和 `docker-compose.yml` 文件，支持使用 Docker 进行一键部署。
- **服务分离**: 采用双容器架构（代理核心服务 + 管理后台服务），结构清晰，易于维护。
- **API控制**: 管理后台可以通过 Docker API 直接控制代理核心，实现如“重启服务以清空缓存”等高级操作。

## 🛠️ 技术架构
- **后端 (Backend)**:
    - **框架**: Python `FastAPI`
    - **异步处理**: `aiohttp` 用于与 Emby 服务器进行高性能的异步HTTP通信。
    - **缓存**: `cachetools` 用于实现内存缓存，加速API响应。
- **前端 (Frontend)**:
    - **框架/构建**: `Vue.js 3` + `Vite`
    - **状态管理**: `Pinia`
    - **UI 组件库**: `Element Plus`

总而言之，**Emby Virtual Proxy** 是一个为 Emby 高级玩家和收藏家设计的强大工具，它通过“代理”这一巧妙的方式，无侵入性地为您的 Emby 带来了前所未有的灵活性和可定制性。